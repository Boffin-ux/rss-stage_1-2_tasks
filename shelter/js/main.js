(()=>{"use strict";const e=async e=>{try{const t=await fetch(e);return await t.json()}catch(e){console.error(e)}},t=(e,t,n,s)=>{const o=document.querySelectorAll(`.${t}`),i=()=>{const o=document.querySelector(n);e.forEach((e=>{const{img:n,name:i,id:a}=e,c=`\n            <li class="pets__item ${t}" data-id="${a}">\n               <div class="pets__item-img">\n                  <img src="${n}" alt="${i}-image">\n               </div>\n               <p class="pets__item-name">${i}</p>\n               <a href="#" class="button pets__item-button">Learn more</a>\n            </li>\n         `;o.insertAdjacentHTML(s,c)}))};o.length>0?(o.forEach((e=>e.remove())),i()):i()},n=(e=3,t=0,n=7)=>{const s=new Set;for(;s.size!==e;)s.add(Math.floor(Math.random()*(n-t+1))+t);return[...s]};(e=>{const t=new Image;t.onload=t.onerror=function(){!function(e){const t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})(),(()=>{const e=document.querySelector(".hamburger"),t=document.querySelector(".mobile-menu"),n=document.querySelector(".header__wrap"),s=()=>{e.classList.remove("hamburger--rotate"),t.classList.remove("menu--active"),n.addEventListener("click",i),document.body.removeAttribute("style")},o=e=>{(e.target.closest(".hamburger--rotate")||e.target.closest(".burger-nav__item")||e.target.closest(".mobile-menu__overlay"))&&s()},i=s=>{s.target.closest(".hamburger")&&(e.classList.add("hamburger--rotate"),t.classList.add("menu--active"),n.removeEventListener("click",i),n.addEventListener("click",o),document.body.style.overflow="hidden")};n.addEventListener("click",i),window.addEventListener("resize",(()=>{document.documentElement.clientWidth>767&&s()}))})(),(()=>{const t=document.querySelector(".modal"),n=document.querySelector(".pets__items"),s=document.querySelector(".modal__close"),o=document.querySelector(".modal__content");n.addEventListener("click",(n=>{n.target.closest(".pets__item")&&(n.preventDefault(),(async t=>{const n=await e("./files/petsDB.json");o.innerHTML="",n.forEach((e=>{if(e.id===t){const{name:t,type:n,breed:s,description:i,age:a,img:c,inoculations:r,diseases:d,parasites:l}=e;console.log("parasites: ",r.join(", "));const m=`\n            <div class="pet__img">\n               <img src="${c}" alt="${t}-image">\n            </div>\n            <div class="pet__about">\n               <div class="pet__header">\n                  <h3 class="pet__name">${t}</h3>\n                  <p class="pet__breed">${n} - ${s}</p>\n               </div>\n               <p class="pet__description">${i}</p>\n               <ul class="pet__info">\n                  <li class="pet__info-item">\n                     <p><span>Age:</span> ${a}</p>\n                  </li>\n                  <li class="pet__info-item">\n                     <p><span>Inoculations:</span> ${r.join(", ")}</p>\n                  </li>\n                  <li class="pet__info-item">\n                     <p><span>Diseases:</span> ${d.join(", ")}</p>\n                  </li>\n                  <li class="pet__info-item">\n                     <p><span>Parasites:</span> ${l.join(", ")}</p>\n                  </li>\n               </ul>\n            </div>\n         `;o.insertAdjacentHTML("beforeEnd",m)}}))})(n.target.closest(".pets__item").dataset.id),t.classList.add("modal--active"),(()=>{const e=window.scrollY;let t=window.innerWidth-document.body.offsetWidth;document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px",document.body.style.paddingRight=`${t}px`})())})),t.addEventListener("click",(e=>{e.target.closest(".modal__content")||(t.classList.remove("modal--active"),(()=>{const e=parseInt(document.body.dataset.position,10);document.documentElement.style.scrollBehavior="auto",document.body.removeAttribute("class"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position"),document.body.removeAttribute("style"),document.documentElement.removeAttribute("style")})())})),t.addEventListener("mouseover",(e=>{e.target.closest(".modal__content")?(s.classList.remove("close--active"),t.removeAttribute("style")):(s.classList.add("close--active"),t.style.cursor="pointer")}))})(),(async()=>{const s=document.getElementById("slider-carusel"),o=document.getElementById("btn-next"),i=document.getElementById("btn-prev"),a=await e("./files/petsDB.json");let c=3;const r=[{breakpoint:1280,showCard:3},{breakpoint:768,showCard:2},{breakpoint:320,showCard:1}],d=r.map((e=>e.breakpoint)),l=Math.max(...d),m=(e,r,d)=>{const l=()=>{const m=document.querySelectorAll(".item--active"),v=n(c).map((e=>a[e]));[...m].some((e=>v.some((t=>t.id===e.dataset.id))))?l():(t(v,e,".pets__items",r),s.classList.add(d),o.removeEventListener("click",u),i.removeEventListener("click",p))};l()},p=()=>{m("item--prev","afterBegin","items--transition-prev")},u=()=>{m("item--next","beforeEnd","items--transition-next")},v=()=>{o.addEventListener("click",u),i.addEventListener("click",p)},_=(e,t)=>{const n=document.querySelectorAll(`.${t}`);document.querySelectorAll(".item--active").forEach((e=>e.remove())),n.forEach((n=>{const o=n.cloneNode(!0);n.classList.add("item--active"),"append"===e&&"item--next"===t?(n.classList.remove("item--next"),s.append(o)):"prepend"===e&&"item--prev"===t&&(n.classList.remove("item--prev"),s.prepend(o))}))};v(),s.addEventListener("transitionend",(e=>{e.target.matches(".items--transition-prev")&&(s.classList.remove("items--transition-prev"),_("prepend","item--prev")),e.target.matches(".items--transition-next")&&(s.classList.remove("items--transition-next"),_("append","item--next")),v()}));const b=()=>{const e=document.documentElement.clientWidth;c=e<l&&e>d[1]?r[1].showCard:e<l&&e<d[1]?r[2].showCard:3,((e=c)=>{s.innerHTML="";for(let s=0;s<3;s++){const o=n(e).map((e=>a[e]));0===s?t(o,"item--prev",".pets__items","beforeEnd"):1===s?t(o,"item--active",".pets__items","beforeEnd"):2===s&&t(o,"item--next",".pets__items","beforeEnd")}})()};b(),window.addEventListener("resize",b)})()})();