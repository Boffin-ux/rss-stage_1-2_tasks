(()=>{"use strict";const e=async e=>{try{const t=await fetch(e);return await t.json()}catch(e){console.error(e)}},t=(e=3,t=0,s=7)=>{const n=new Set;for(;n.size!==e;)n.add(Math.floor(Math.random()*(s-t+1))+t);return[...n]};(e=>{const t=new Image;t.onload=t.onerror=function(){!function(e){const t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})(),(()=>{const e=document.querySelector(".hamburger"),t=document.querySelector(".mobile-menu"),s=document.querySelector(".header__wrap"),n=()=>{e.classList.remove("hamburger--rotate"),t.classList.remove("menu--active"),s.addEventListener("click",i),document.body.removeAttribute("style")},o=e=>{(e.target.closest(".hamburger--rotate")||e.target.closest(".burger-nav__item")||e.target.closest(".mobile-menu__overlay"))&&n()},i=n=>{n.target.closest(".hamburger")&&(e.classList.add("hamburger--rotate"),t.classList.add("menu--active"),s.removeEventListener("click",i),s.addEventListener("click",o),document.body.style.overflow="hidden")};s.addEventListener("click",i),window.addEventListener("resize",(()=>{document.documentElement.clientWidth>767&&n()}))})(),(()=>{const t=document.querySelector(".modal"),s=document.querySelector(".pets__items"),n=document.querySelector(".modal__close"),o=document.querySelector(".modal__content");s.addEventListener("click",(s=>{s.target.closest(".pets__item")&&(s.preventDefault(),(async t=>{const s=await e("./files/petsDB.json");o.innerHTML="",s.forEach((e=>{if(e.id===t){const{name:t,type:s,breed:n,description:i,age:a,img:c,inoculations:d,diseases:r,parasites:l}=e;console.log("parasites: ",d.join(", "));const m=`\n            <div class="pet__img">\n               <img src="${c}" alt="${t}-image">\n            </div>\n            <div class="pet__about">\n               <div class="pet__header">\n                  <h3 class="pet__name">${t}</h3>\n                  <p class="pet__breed">${s} - ${n}</p>\n               </div>\n               <p class="pet__description">${i}</p>\n               <ul class="pet__info">\n                  <li class="pet__info-item">\n                     <p><span>Age:</span> ${a}</p>\n                  </li>\n                  <li class="pet__info-item">\n                     <p><span>Inoculations:</span> ${d.join(", ")}</p>\n                  </li>\n                  <li class="pet__info-item">\n                     <p><span>Diseases:</span> ${r.join(", ")}</p>\n                  </li>\n                  <li class="pet__info-item">\n                     <p><span>Parasites:</span> ${l.join(", ")}</p>\n                  </li>\n               </ul>\n            </div>\n         `;o.insertAdjacentHTML("beforeEnd",m)}}))})(s.target.closest(".pets__item").dataset.id),t.classList.add("modal--active"),(()=>{const e=window.scrollY;let t=window.innerWidth-document.body.offsetWidth;document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px",document.body.style.paddingRight=`${t}px`})())})),t.addEventListener("click",(e=>{e.target.closest(".modal__content")||(t.classList.remove("modal--active"),(()=>{const e=parseInt(document.body.dataset.position,10);document.documentElement.style.scrollBehavior="auto",document.body.removeAttribute("class"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position"),document.body.removeAttribute("style"),document.documentElement.removeAttribute("style")})())})),t.addEventListener("mouseover",(e=>{e.target.closest(".modal__content")?(n.classList.remove("close--active"),t.removeAttribute("style")):(n.classList.add("close--active"),t.style.cursor="pointer")}))})(),(async()=>{const s=document.getElementById("slider-pagination"),n=document.getElementById("pagination-buttons"),o=document.getElementById("count-lists"),i=document.getElementById("next-item"),a=document.getElementById("prev-item"),c=document.getElementById("first-item"),d=document.getElementById("last-item"),r=await e("./files/petsDB.json");let l,m=1,u=1,p=0,v=100*u,_=8;const g=[{breakpoint:1280,showCard:8},{breakpoint:768,showCard:6},{breakpoint:320,showCard:3}],b=g.map((e=>e.breakpoint)),y=Math.max(...b),L=()=>{(()=>{let e=t(8),n=e,o=n.slice(-2),i=[],a=4,c=2;const d=()=>{e=t(8),i=e.slice(0,a),i.some((e=>o.some((t=>e===t))))?d():(n=[...n,...e],o=e.slice(-c))};for(let e=0;e<5;e++)0===e||3===e?(a=4,c=4,d()):1===e||4===e?(a=2,c=4,d()):2===e&&(a=4,c=2,d());const l=n.map((e=>r[e]));s.innerHTML="",((e,t,s)=>{const n=document.querySelector(t);e.forEach((e=>{const{img:t,name:o,id:i}=e,a=`\n            <li class="pets__item" data-id="${i}">\n               <div class="pets__item-img">\n                  <img src="${t}" alt="${o}-image">\n               </div>\n               <p class="pets__item-name">${o}</p>\n               <a href="#" class="button pets__item-button">Learn more</a>\n            </li>\n         `;n.insertAdjacentHTML(s,a)}))})(l,".pets__items","beforeEnd"),m=l.length/_})(),o.innerText=1,s.style.transform="translateY(0%)"},h=()=>{s.classList.add("items--transition"),n.removeEventListener("click",A),v=100*p,s.style.transform=`translateY(-${v}%)`,o.innerText=u},f=(e,t)=>{e.classList.add("item--active"),t.classList.add("item--active"),e.classList.remove("item--disable"),t.classList.remove("item--disable")},E=(e,t)=>{e.classList.add("item--disable"),t.classList.add("item--disable"),e.classList.remove("item--active"),t.classList.remove("item--active")},A=e=>{e.target.closest("#next-item")&&p<m-1?(++u,++p,h(),2===u&&f(a,c),u===m&&E(i,d)):e.target.closest("#prev-item")&&p>0?(--u,--p,h(),1===u&&E(a,c),u===m-1&&f(i,d)):e.target.closest("#last-item")&&p!==m-1?(u=m,p=m-1,E(i,d),f(a,c),h()):e.target.closest("#first-item")&&p>0&&(u=1,p=0,h(),E(a,c),f(i,d))};n.addEventListener("click",A),s.addEventListener("transitionend",(()=>{s.classList.remove("items--transition"),n.addEventListener("click",A)}));const w=()=>{const e=document.documentElement.clientWidth;_=e<y&&e>b[1]?g[1].showCard:e<y&&e<b[1]?g[2].showCard:8,E(a,c),f(i,d),u=1,p=0,L()};w(),window.addEventListener("resize",(()=>{clearTimeout(l),l=setTimeout(w,100)}))})()})();